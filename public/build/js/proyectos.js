document.addEventListener("DOMContentLoaded",(function(){console.log("JavaScript cargado correctamente.");const e=document.querySelectorAll(".boton-editar"),t=document.querySelectorAll(".boton-eliminar");e.length>0?console.log("Botones de editar encontrados:",e.length):console.log("No se encontraron botones de editar."),t.length>0?console.log("Botones de eliminar encontrados:",t.length):console.log("No se encontraron botones de eliminar."),e.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.dataset.id;Swal.fire({title:"Editar Lista",input:"text",inputPlaceholder:"Nuevo nombre de la lista",showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",preConfirm:e=>e?fetch("/api/proyecto/editar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,nombre:e})}).then(e=>e.json()).then(e=>{if(e.success)return e;Swal.showValidationMessage(e.message)}).catch(()=>{Swal.showValidationMessage("Error al editar la lista")}):(Swal.showValidationMessage("El nombre de la lista es obligatorio"),!1)}).then(e=>{e.isConfirmed&&Swal.fire("Guardado!","La lista ha sido editado.","success").then(()=>{location.reload()})})}))}),t.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.dataset.id;Swal.fire({title:"¿Eliminar Lista?",text:"Esta acción no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"No, cancelar"}).then(e=>{e.isConfirmed&&fetch("/api/proyecto/eliminar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then(e=>e.json()).then(e=>{e.success?Swal.fire("Eliminado!","La Lista ha sido eliminada.","success").then(()=>{location.reload()}):Swal.fire("Error!",e.message,"error")}).catch(()=>{Swal.fire("Error!","Error al eliminar la lista","error")})})}))})}));